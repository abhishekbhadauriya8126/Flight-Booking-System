


<html>
  <head>
    <title>Search Flight</title>
    <link rel="stylesheet" type="text/css" href="home.component.css">
  </head>

  <body class="dm">
    
      <h1>Search Flights</h1>
      <form #FlightForm="ngForm" novalidate>
        
     
        <div class="form-group">
          <label >Source</label>
          <input type="text" required #src="ngModel" [(ngModel)]="uSource" class="form-control" id="source" name="source" placeholder="Enter the Source">
          <small class="text-danger"  [class.d-none]="src.valid || src.untouched">Source is Required</small>
        </div>
        
        <div class="form-group">
            <label >Destination</label>
            <input type="text" required #dest="ngModel" [(ngModel)]="uDestination" class="form-control" id="destination" name="destination" placeholder="Enter the destination">
            <small class="text-danger"  [class.d-none]="dest.valid || dest.untouched">Destination is Required</small>
          </div>
      
          <div class="form-group">
            <label for="date">Date</label>
            <input
              type="date"
              required
              #dte="ngModel"
              [(ngModel)]="date"
              class="form-control"
              id="date"
              name="date"
              pattern="\d{4}-\d{2}-\d{2}"
              [min]="getCurrentDate()"
            />
            <small class="text-danger" [class.d-none]="dte.valid || dte.untouched">Date is Required</small>
          </div>
          <button [disabled]="FlightForm.form.invalid" type="submit" class="btn btn-primary mt-4" (click)="searchFlights()">Search</button>
        
      </form>
 

      <table class="tab">
        <tbody>
            <tr *ngFor="let flights of searchArray">
            <td>Flight Name {{flights.flightName}}</td>
    
            <td>Flight Number {{flights.flightNumber}}</td>
            <td>Departure Time {{flights.departureTime }}</td>
            <td>Arrival Time  {{flights.arrivalTime }}</td>
            <td>Price  {{flights.price }}</td>
            
 
            <td>
                <button type="button" class="btn btn-success" (click)="BookFlight(flights.flightNumber,flights.price)" >Book</button>
            </td>
          </tr>
          
        </tbody>
      </table>




  </body>
</html>

